<% content_for :title, "Foreslåtte foredrag" %>

<p><a href="../info/til_lyntalere">Informasjon om hva slags opplegg vi har rundt lyntaler, tordentaler og workshops på Smidig 2012, samt noen generelle tips.</a></p>

<p>
  <h2 class="talks_header">Foreslåtte bidrag<%= feed_link "Følg med på alle nye foredrag", talks_path(:format => :rss) %></h2>
  (Du kan også se alle <%= link_to "kommentarer", comments_url%><%= feed_link "Følg med på alle commentarer", comments_path(:format => :rss) %>)
</p>

<div class="filters">
  <select id="show_types">
    <option value="alle">Alle</option>
    <option value="lyntale">Lyntale</option>
    <option value="tordentale">Tordentale</option>
    <option value="workshop">Workshop</option>
  </select>
  <label><input type="checkbox" id="show_accepted" /> Vis bare godkjente</label>
</div>

<ul class="talks">
<%= render :partial => @talks_sorted %>
</ul>

<!--
<p>Savner du noe? <%= link_to "Foreslå det selv!", new_talk_path %></p>
-->

<script>
  $("#show_accepted").removeAttr("checked");
  $("#show_types").val("alle");
  filter_change = function() {
    var show_accepted = $("#show_accepted").attr("checked");
    var selection = $("#show_types").val();
    $("ul.talks > li").each(function() {
      var accepted = $(this).hasClass("accepted");
      var shown_type = $(this).hasClass(selection);
      if (!shown_type || (show_accepted && !accepted)) {
        $(this).hide();
      } else {
        $(this).show();
      }
    });
  }
  $("#show_accepted").change(filter_change);
  $("#show_types").change(filter_change);
</script>
